## Chapter 05. 네트워크 및 콘텐츠 전송 서비스
### IP 주소는 네트워크의 번지

- IP 주소를 바탕으로 위치를 특정하여 그곳에 있는 웹 서버에 접속

### 퍼블릭 IP 주소와 프라이빗 IP 주소

- 라우터 : LAN 과 인터넷 경계에 배치하는 기기
    - 라우터를 통해 LAN 에서 WAN 으로 통신 가능 (네트워크의 현관 역할)   
    ![Untitled](https://file.notion.so/f/f/3db2c1d3-d28f-483a-adc8-ee8abc696878/a4417d1a-ee6e-4799-b254-5e8a7585e179/Untitled.png?id=eeb2fc3a-c7e4-4595-9cae-e1ccd8b03814&table=block&spaceId=3db2c1d3-d28f-483a-adc8-ee8abc696878&expirationTimestamp=1697644800000&signature=PguEtmwD_WdDJ7FgZJNsz42JXxQ7V4bmvvV5pE6l1v4&downloadName=Untitled.png)
- 프라이빗 IP 주소 : LAN 내에서만 식별할 수 있는 IP 주소
    - 10.0.0.0 ~ 10.255.255.255
    - 172.16.0.0 ~ 172.31.255.255
    - 192.168.0.0 ~ 192.168.255.255
    

### CIDR 블록

- IP 주소를 이용해 `네트워크 범위를 정의` 하는 것
- IP 주소 나타내는 문자열 = 네트워크 + 호스트
    - 네트워크 : 네트워크 정의
    - 호스트 : 네트워크 내에서 접속할 수 있는 서버<br>
    ex) 172.31.0.0 / 16<br>
    - 172.31.0.0 와 같이 `호스트 부분이 모두 0인 주소` : `네트워크 주소`
    - 172.31.255.255 와 같이 `호스트 부분이 모두 1인 주소` : `브로드캐스트 주소`<br>
    → 네트워크 주소, 브로드캐스트 주소는 할당이 불가능하므로, 할당 가능한 주소 수는 “네트워크 총 주소 수 - 2” 개
    - / 16 : 서브넷 마스크

### 방화벽

- 보안 위협으로부터 시스템을 지키기 위해 사용하는 것
    - 인터넷을 통해 통신할 필요가 있는 서버는, 특정 사용자나 IP 주소에서만 접근할 수 있게 제한하는 것이 중요 !
    - 따라서 규칙을 설정함
- 하드웨어 형태도 있고, 소프트웨어 형태로 서버에 설치되어 동작하는 것도 있음
- 윈도우 PC 에도 “보안 센터” 설정에서 방화벽 설치되어 동작하고 있음
- AWS 에서는 보안그룹이나 네트워크 ACL 같은 방화별 기능 서비스가 있음

### 라우팅 및 라우팅 테이블

- 어떤 IP 주소를 찾아가기 위해서는 해당 주소까지의 경로를 알아야하는데, 사용자는 알 필요가 없음!
- `라우터` 가 `최적의 경로` 를 찾아서 경로를 설정하고 연결함
- `라우팅 테이블` : 라우터는 소유한 경로 정보를 기반으로, 목적지 IP 주소를 향해 이동해야 하는 네트워크를 결정함
    - 라우터가 소유한 네트워크 지도와 같은 것
    - AWS 에서는 Amazon VPC 의 라우팅 테이블이라는 기능으로 제공함
    - 인터넷이나 각 AWS 서비스에 대해 어떤 엔드포인트를 경유할지와 같은 경로 정보 관리 가능
    

### 도메인 이름과 IP 주소를 연결하는 DNS

- **도메인 이름에는 IP 주소가 연결되어 있어서**, 사용자는 도메인 이름만으로 사이트에 접속 가능
    - DNS (Domain Name System) 이 우리 대신, **도메인 이름에 연결된 IP 주소를 찾아주기** 때문 <br>
    → 이러한 DNS 의 기능을 `이름 해석` 이라고 함
    ![Untitled](https://file.notion.so/f/f/3db2c1d3-d28f-483a-adc8-ee8abc696878/dbc7d0ad-7a38-43ae-b4f0-ddad93024f6c/Untitled.png?id=f72916a6-eff6-4265-b58d-28114ecd5f6c&table=block&spaceId=3db2c1d3-d28f-483a-adc8-ee8abc696878&expirationTimestamp=1697644800000&signature=OC1-_D29qVNR4lpytDh21xej836N_1LWYAxCV2ZKaco&downloadName=Untitled.png)

### 가상 네트워크 Amazon VPC

- **Amazon Virtual Private Cloud (VPC)** : AWS 에서 생성할 수 있는 프라이빗 가상 네트워크 공간
    - 인터넷에 공개하는 **Public VPC** 구축 가능
    - VPN (Virtual Private Network - 가상 사설 네트워크) 등을 이용해 접속하는 **Private VPC** 구축 가능
- VPC 를 만들 때 `CIDR 블록 (IP 주소 범위) 를 지정`하고, **지정한 CIDR 블록 네트워크를 확보**
    - 10.0.0.0/28 → 호스트 주소 2^(32-28) = 2^4= 16개의 IP 주소 사용 가능
    - 호스트 주소는 여유롭게 많이 확보해두는 것이 좋음
    - 호스트 : 네트워크 내에서 접속할 수 있는 서버
- VPC 는 일반적으로 `프라이빗 IP 주소`를 사용 (AWS 의 권고 사항)
    - 임의의 퍼블릭 IP 범위에서 CIDR 블록 지정 가능하지만, 외부 퍼블릭 IP 와 겹치면 통신 불가하므로 기본적으로 프라이빗 IP 주소 공간을 지정하는 것이 좋음
    - 온프레미스나 다른 VPC 등 외부 네트워크와의 접속을 검토한다면, **접속할 네트워크와 VPC 의 CIDR 블록이 중복되지 않게 주의 필요**

### VPC 및 서브넷 생성

- VPC 이름 / CIDR 블록 / IPv6 설정 / 테넌시 (전용 하드웨어 사용 여부)
    - 테넌시 : 라이선스 및 보안 요구 사항으로, 하드웨어 독점하려는 경우에만 독점 옵션 지정
- VPC 만으로는 EC2 같은 자원을 네트워크에 만들 수 없으므로, VPC 안에 더 작은 네트워크 단위인 `서브넷` 을 만들어야 함
    - VPC 내에 서브넷 만들고, 서브넷에 EC2 등을 생성해야 함
    - 서브넷은 하나의 AZ 에 속해야 하며, 여러 AZ에 걸쳐 있을 수 없음
    - 하나의 AZ 에 여러 서브넷은 가능
